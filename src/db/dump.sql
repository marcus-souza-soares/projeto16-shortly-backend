CREATE DATABASE"shortly";

\c shortly

CREATE TABLE users (
id SERIAL PRIMARY KEY, 
name VARCHAR(100) UNIQUE NOT NULL,
email VARCHAR(100) UNIQUE NOT NULL,
password TEXT NOT NULL,
"createdAt" TIMESTAMP DEFAULT NOW());

CREATE TABLE sessions (
   id SERIAL PRIMARY KEY,
   token TEXT NOT NULL UNIQUE,
   "userId" INTEGER NOT NULL REFERENCES users(id),
   "createdAt" TIMESTAMP DEFAULT NOW()
);

CREATE TABLE urls (
	id SERIAL PRIMARY KEY, 
	"shortUrl" TEXT NOT NULL,
	url TEXT NOT NULL,
	"visitCount" INTEGER NOT NULL DEFAULT 0,
	"userId" INTEGER REFERENCES users(id),
	"createdAt" TIMESTAMP DEFAULT NOW()	
);
